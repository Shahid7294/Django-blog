{% extends 'base-blogs.html' %}
{% block content %}
<div class="row">
    <!-- left sidebar-->
    <!-- load the sidebar-->
    {% include "sidebar.html" %}
  
    <!-- right sidebar-->
    <div class="col-md-9">
        <h2>All Posts</h2>
        <a href="{% url "add_posts" %}" class="btn btn-dark text-light float-right mb-2">Add New</a>
        <table class="table table-hover">
            <thead>
                <tr>
                <th scope="col">#</th>
                <th scope="col" class="text-center">Title</th>
                <th scope="col">Category</th>
                <th scope="col">Author</th>
                <th scope="col">Status</th>
                <th scope="col">Featured</th>
                <th scope="col">Action</th>
                </tr>
            </thead>
            <tbody>
                {% for i in posts %}
                <tr>
                <th scope="row"> {{forloop.counter}} </th>
                <td> {{i.title |truncatewords:7}} </td>
                <td> {{i.category}} </td>
                <td> {{i.author}} </td>
                <td> {{i.status}} </td>
                <td class="text-center">
                    {% if i.is_featured %} <i class="bi bi-check-circle text-success"></i> {% else %} <i class="bi bi-x-circle text-danger"></i> {% endif %} </td>
                <td>
                    {% if i.author == request.user %}
                    <a href="{% url "edit_post" i.id %}"> <i class="bi bi-pencil-square text-success"></i></a>
                    &nbsp;
                    <a href="{% url "delete_post" i.id %}"><i class="bi bi-trash text-danger"></i></a>
                    {% endif %}
                </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}